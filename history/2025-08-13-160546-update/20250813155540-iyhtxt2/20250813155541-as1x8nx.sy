{"ID":"20250813155541-as1x8nx","Spec":"1","Type":"NodeDocument","Properties":{"id":"20250813155541-as1x8nx","title":"源码","type":"doc","updated":"20250813160307"},"Children":[{"ID":"20250813160219-f48tnhl","Type":"NodeCodeBlock","IsFencedCodeBlock":true,"Properties":{"id":"20250813160219-f48tnhl","updated":"20250813160307"},"Children":[{"Type":"NodeCodeBlockFenceOpenMarker","Data":"```"},{"Type":"NodeCodeBlockFenceInfoMarker","CodeBlockInfo":"bWFya2Rvd24="},{"Type":"NodeCodeBlockCode","Data":"html\n\n\u003cvideo src=\"xxx.mp4\" width=\"25%\" height=\"auto\" controls\u003e\u003c/video\u003e\n\n\u003cimg src=\"xxx.jpg\" title=\"示例图\" width=\"50%\" height=\"auto\"/\u003e\n\n\n// 标题居中\n\u003ccenter\u003e    \u003c/center\u003e\n\n\n// 收缩框\n[collapse status=\"false\" title=\"展开\u0026收起\"]\n内容\n[/collapse]\n\n\n// 相册\n[album type=\"photos\"]\n内容\n[/album]\n\n\n// 多图排版\n[NG]\n内容\n[/NG]\n\n\n\n//播放器\n\u003ciframe src=\"xxxx\" width=\"100%\" height=\"700\" scrolling=\"no\" frameborder=\"0\"\u003e\u003c/iframe\u003e\n\n\n// 1em\n\u003cimg src=\"image.jpg\" style=\"display: inline; height: 1em;\"\u003e\n\n\n\n// 以表格显示视频 一行两个\n\u003cbody\u003e\n  \u003ctable style=\"width: 100%; margin: 0 auto; border-collapse: collapse;\"\u003e\n    \u003ctr\u003e\n      \u003ctd style=\"width: 100%; padding: 10px;\"\u003e\n        \u003cvideo controls style=\"width: 100%; height: auto;\"\u003e\n          \u003csource src=\"xxx.mp4\" type=\"video/mp4\"\u003e\n        \u003c/video\u003e\n      \u003c/td\u003e\n      \u003ctd style=\"width: 100%; padding: 10px;\"\u003e\n        \u003cvideo controls style=\"width: 100%; height: auto;\"\u003e\n          \u003csource src=\"xxx.mp4\" type=\"video/mp4\"\u003e\n        \u003c/video\u003e\n      \u003c/td\u003e\n    \u003c/tr\u003e\n    \u003ctr\u003e\n      \u003ctd style=\"width: 100%; padding: 10px;\"\u003e\n        \u003cvideo controls style=\"width: 100%; height: auto;\"\u003e\n          \u003csource src=\"xxx.mp4\" type=\"video/mp4\"\u003e\n        \u003c/video\u003e\n      \u003c/td\u003e\n      \u003ctd style=\"width: 100%; padding: 10px;\"\u003e\n        \u003cvideo controls style=\"width: 100%; height: auto;\"\u003e\n          \u003csource src=\"xxx.mp4\" type=\"video/mp4\"\u003e\n        \u003c/video\u003e\n      \u003c/td\u003e\n    \u003c/tr\u003e\n  \u003c/table\u003e\n\u003c/body\u003e\n\n\n\n\n// 以表格显示图片 一行两个\n\u003cbody\u003e\n  \u003ctable style=\"width: 100%; margin: 0 auto; border-collapse: collapse;\"\u003e\n    \u003ctr\u003e\n      \u003ctd style=\"width: 100%; padding: 10px;\"\u003e\n        \u003cimg src=\"xxx.jpg\" alt=\"Image 1\" style=\"width: 100%; height: auto;\"\u003e\n      \u003c/td\u003e\n      \u003ctd style=\"width: 100%; padding: 10px;\"\u003e\n        \u003cimg src=\"xxx.jpg\" alt=\"Image 2\" style=\"width: 100%; height: auto;\"\u003e\n      \u003c/td\u003e\n    \u003c/tr\u003e\n    \u003ctr\u003e\n      \u003ctd style=\"width: 100%; padding: 10px;\"\u003e\n        \u003cimg src=\"xxx.jpg\" alt=\"Image 3\" style=\"width: 100%; height: auto;\"\u003e\n      \u003c/td\u003e\n      \u003ctd style=\"width: 100%; padding: 10px;\"\u003e\n        \u003cimg src=\"xxx.jpg\" alt=\"Image 4\" style=\"width: 100%; height: auto;\"\u003e\n      \u003c/td\u003e\n    \u003c/tr\u003e\n  \u003c/table\u003e\n\u003c/body\u003e\n\n\n\n\n// 以表格显示图片 一行四个\n\u003cbody\u003e\n  \u003ctable style=\"width: 100%; margin: 0 auto; border-collapse: collapse;\"\u003e\n    \u003ctr\u003e\n      \u003ctd style=\"width: 100%; padding: 10px;\"\u003e\n        \u003cimg src=\"xxx.png\" alt=\"Image 1\" style=\"width: 100%; height: auto;\"\u003e\n      \u003c/td\u003e\n      \u003ctd style=\"width: 100%; padding: 10px;\"\u003e\n        \u003cimg src=\"xxx.png\" alt=\"Image 2\" style=\"width: 100%; height: auto;\"\u003e\n      \u003c/td\u003e\n      \u003ctd style=\"width: 100%; padding: 10px;\"\u003e\n        \u003cimg src=\"xxx.png\" alt=\"Image 3\" style=\"width: 100%; height: auto;\"\u003e\n      \u003c/td\u003e\n      \u003ctd style=\"width: 100%; padding: 10px;\"\u003e\n        \u003cimg src=\"xxx.png\" alt=\"Image 4\" style=\"width: 100%; height: auto;\"\u003e\n      \u003c/td\u003e\n    \u003c/tr\u003e\n  \u003c/table\u003e\n\u003c/body\u003e\n\n\n\n// 视频框架自适应大小（影响页面全部视频）\n  \u003cstyle\u003e\n    .video-container {\n      display: flex;\n      justify-content: center;\n      gap: 20px;\n      padding: 20px;\n      width: 100%;\n      box-sizing: border-box;\n    }\n\n    video {\n      width: 25%;\n      height: auto;\n      object-fit: contain;\n      margin: 0 auto;\n    }\n  \n    @media (max-width: 600px) {\n      .video-container {\n        flex-direction: column;\n      }\n  \n      video {\n        width: 100%;\n        margin: 10px 0;\n      }\n    }\n  \u003c/style\u003e\n\n// 视频框架自适应大小（影响页面全部视频）视频格式\n\u003cbody\u003e\n  \u003cdiv class=\"video-container\"\u003e\n    \u003cvideo src=\"video1.mp4\" width=\"25%\" height=\"auto\" controls\u003e\u003c/video\u003e\n    \u003cvideo src=\"video2.mp4\" width=\"25%\" height=\"auto\" controls\u003e\u003c/video\u003e\n  \u003c/div\u003e\n\u003c/body\u003e\n\n\n// 视频框架自适应大小（影响页面指定视频）\n\u003cstyle\u003e\n    .custom-video-container {\n      display: flex;\n      justify-content: center;\n      gap: 20px;\n      padding: 20px;\n      width: 100%;\n      box-sizing: border-box;\n    }\n\n    .custom-video-container .custom-video {\n      width: 25%;\n      height: auto;\n      object-fit: contain;\n      margin: 0 auto;\n    }\n  \n    @media (max-width: 600px) {\n      .custom-video-container {\n        flex-direction: column;\n      }\n  \n      .custom-video-container .custom-video {\n        width: 100%;\n        margin: 10px 0;\n      }\n    }\n  \u003c/style\u003e\n\n  // 视频框架自适应大小（影响页面指定视频）视频格式\n\u003cbody\u003e\n  \u003cdiv class=\"custom-video-container\"\u003e\n    \u003cvideo class=\"custom-video\" src=\"video1.mp4\" controls\u003e\u003c/video\u003e\n    \u003cvideo class=\"custom-video\" src=\"video2.mp4\" controls\u003e\u003c/video\u003e\n      \u003c/div\u003e\n\u003c/body\u003e\n\n\n\n\n// 页面图片加载提示占位符\n\n\u003cscript\u003e\ndocument.addEventListener('DOMContentLoaded', function() {\n  // 只处理内容区域的图片（根据你的主题调整选择器）\n  const content = document.querySelector('.post-content, .entry-content') || document.body;\n\n  // 智能选择图片：排除小图标、表情和已标记图片\n  const images = content.querySelectorAll(`\n    img:not(.no-loader):not([width=\"16\"]):not([height=\"16\"]):not([width=\"24\"]):not([height=\"24\"])\n  `);\n\n  images.forEach(img =\u003e {\n    // 跳过已处理或不需要处理的图片\n    if (img.dataset.loaderProcessed) return;\n    img.dataset.loaderProcessed = true;\n  \n    // 创建轻量级包裹容器\n    const wrapper = document.createElement('span');\n    wrapper.className = 'img-loader-container';\n  \n    // 创建占位符（使用更可靠的DOM操作）\n    const placeholder = document.createElement('span');\n    placeholder.className = 'img-loader-placeholder';\n    placeholder.textContent = '图片加载中...';\n  \n    // 克隆原始图片（避免影响原始加载流程）\n    const imgClone = img.cloneNode(true);\n  \n    // 组装结构\n    wrapper.appendChild(placeholder);\n    wrapper.appendChild(imgClone);\n    img.replaceWith(wrapper);\n  \n    // 初始化状态\n    imgClone.style.opacity = '0';\n  \n    // 5秒超时检测\n    const timeout = setTimeout(() =\u003e {\n      if (imgClone.style.opacity === '0') {\n        placeholder.textContent = '加载较慢，请稍候...';\n      }\n    }, 5000);\n  \n    // 加载成功处理\n    const onLoad = () =\u003e {\n      clearTimeout(timeout);\n      placeholder.style.display = 'none';\n      imgClone.style.opacity = '1';\n    };\n  \n    // 加载失败处理\n    const onError = () =\u003e {\n      clearTimeout(timeout);\n      placeholder.textContent = '图片加载失败..可刷新重试';\n      placeholder.classList.add('error');\n    };\n  \n    // 添加事件监听\n    imgClone.addEventListener('load', onLoad);\n    imgClone.addEventListener('error', onError);\n  \n    // 处理可能已缓存的图片\n    if (imgClone.complete) {\n      onLoad();\n    }\n  });\n});\n\u003c/script\u003e\n\n\u003cstyle\u003e\n/* 图片容器（保持行内布局） */\n.img-loader-container {\n  position: relative;\n  display: inline-block;\n  vertical-align: middle;\n  line-height: 0;\n}\n\n/* 加载提示 */\n.img-loader-placeholder {\n  position: absolute;\n  top: 0;\n  left: 0;\n  right: 0;\n  padding: 4px 8px;\n  background: rgba(245, 245, 245, 0.95);\n  color: #666;\n  border: 1px dashed #ddd;\n  font-size: 13px;\n  text-align: center;\n  z-index: 10;\n}\n\n/* 错误状态 */\n.img-loader-placeholder.error {\n  color: #ff4d4f;\n  background: #fff2f0;\n  border-color: #ffccc7;\n}\n\n/* 图片样式 */\n.img-loader-container img {\n  transition: opacity 0.3s ease;\n  vertical-align: middle;\n  max-width: 100%;\n  height: auto;\n  opacity: 0;\n}\n\n/* 确保不影响其他布局 */\n.no-loader {\n  opacity: 1 !important;\n}\n\u003c/style\u003e\n\n\n\n// 禁用右键和图片拖拽\n\u003cscript\u003e\n// 禁用右键\ndocument.addEventListener('contextmenu', function(e) {\n    e.preventDefault();\n    alert('本站内容受保护，请勿随意保存【允许Ctrl+C复制文本】');\n});\n// 禁止图片拖拽\ndocument.addEventListener('DOMContentLoaded', function() {\n    const images = document.querySelectorAll('img');\n    images.forEach(img =\u003e {\n        img.setAttribute('draggable', 'false'); // 禁用HTML5拖拽\n        img.addEventListener('dragstart', (e) =\u003e e.preventDefault()); // 防止拖拽\n    });\n});\n\u003c/script\u003e\n"},{"Type":"NodeCodeBlockFenceCloseMarker","Data":"```"}]}]}